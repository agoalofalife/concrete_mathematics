<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Flavius</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.18.1/vis.min.js"></script>
</head>
<style>

</style>
<body>
<div id="app">

    <svg width="580" height="400" xmlns="http://www.w3.org/2000/svg">
        <g>
            <title>background</title>
            <rect fill="#fff" id="canvas_background" height="402" width="582" y="-1" x="-1"/>
            <g display="none" overflow="visible" y="0" x="0" height="100%" width="100%" id="canvasGrid">
                <rect fill="url(#gridpattern)" stroke-width="0" y="0" x="0" height="100%" width="100%"/>
            </g>
        </g>
        <g class="body_svg">
            <title>Layer 1</title>
            <ellipse ry="107" rx="107" id="svg_1" cy="200" cx="200" stroke-width="1.5" stroke="#000" fill="#fff"/>
        </g>
    </svg>
</div>
<div class="form-group col-md-4" id="input">
    <label>Введите количество войнов</label>
    <input type="text" class="form-control " id="InputName" placeholder="Например 10">
</div>
<script>
    var centerX        = 200;
    var centerY        = 200;
    var R              = 107;

    document.querySelector('#InputName').addEventListener('keypress', function (e) {
        if (e.which == 13 || e.keyCode == 13) {

            management.data.countElement = e.target.value;
//            management.unebleInput();

//            var generator = management.setElement();
            // Добавить таймер для анимационного обавления элементов
            console.log( management.setElement() );
        }
    });


//    for (var i = 0; i < count; i++){
//        var g           = document.createElementNS("http://www.w3.org/2000/svg", 'g');
//        g.innerHTML     = management.data.templateCircle;
//
//        var x           = Math.cos(2 * Math.PI * i / count) * R + centerX;
//        var y           = Math.sin(2 * Math.PI * i / count) * R + centerY;
//
//        g.children[0].cx.baseVal.value = x ;
//        g.children[0].cy.baseVal.value = y ;
//        g.children[0].rx.baseVal.value = '22';
//        g.children[0].ry.baseVal.value = '22';
//
//        g.children[1].innerHTML          = i + 1;
//        g.children[1].x.baseVal[0].value = x - 10;
//        g.children[1].y.baseVal[0].value = y + 6;
//
//        document.querySelector('.body_svg').appendChild(g);
//    }


    var management = {
        data : {
          countElement   : '',
          templateCircle :  `<ellipse stroke="#000" ry="20.000001" rx="21.5" id="svg_3" cy="160.000001" cx="177" stroke-width="1.5" fill="#fff"/>
            <text xml:space="preserve" text-anchor="start" font-family="Helvetica, Arial, sans-serif" font-size="24" id="svg_4" y="169" x="169.5" fill-opacity="null" stroke-opacity="null" stroke-width="0" stroke="#000" fill="#000000">1</text>`,
        },
        unebleInput : function () {
            document.querySelector('#input').style.display = 'none';
        },
        setElement : function* () {
            var count = management.data.countElement;
            for (var i = 0; i < count; i++){

                var g           = document.createElementNS("http://www.w3.org/2000/svg", 'g');
                g.innerHTML     = management.data.templateCircle;

                var x           = Math.cos(2 * Math.PI * i / count) * R + centerX;
                var y           = Math.sin(2 * Math.PI * i / count) * R + centerY;

                g.children[0].cx.baseVal.value = x ;
                g.children[0].cy.baseVal.value = y ;
                g.children[0].rx.baseVal.value = '22';
                g.children[0].ry.baseVal.value = '22';

                g.children[1].innerHTML          = i + 1;
                g.children[1].x.baseVal[0].value = x - 10;
                g.children[1].y.baseVal[0].value = y + 6;

                document.querySelector('.body_svg').appendChild(g);
                yield i;
            }
            return true;
        }
    }
</script>
</body>
</html>